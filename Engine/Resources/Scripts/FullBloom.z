class Josh : Component
{
  //var Cinder:ScriptSystem = null;
  
  var OHai : String = "";
  var Obj:GameObject = null;
  var ObjectSys:ObjectSystem = null;
  
  
  constructor() : base()
  {
	Console.WriteLine("SASA");
	
  }
  
  function Initialize(objectSystem:ObjectSystem)
  {
	this.ObjectSys = objectSystem;
	//Cinder2.Connect(this, Events.UpdateEvent, this.LogicUpdate);
	//var obj : GameObject = Cinder.objsys.CreateObject();
	//Console.Writeline(obj);
	//Console.Writeline(obj);
	//Console.WriteLine(new Player());
	//Console.WriteLine(this.Owner);
	
	Console.WriteLine(this);
	Console.WriteLine("hello");
	var gameobject = this.ObjectSys.CreateObject();
	Console.WriteLine("GAMEOBJECT");
	var newtrans = gameobject.AddComponent("Transform");
	Console.WriteLine("COMPONENTT");
	newtrans.Initialize();
	//gameobject.Transform;
	Console.WriteLine(gameobject.Transform);
	var newsprite = gameobject.AddComponent("Sprite") as any as Sprite;
	newsprite.LoadSprite("Env.png", "Default");
	newsprite.Initialize();
	Console.WriteLine(gameobject.Sprite);
	
	Console.WriteLine("ASDADAD");
	
	
	
	//Console.WriteLine();
  }
 
  function LogicUpdate(e: UpdateEvent)
  {
	//Console.WriteLine(e.TimePassed);
  }
 
}

class Cinder2
{
	//NEEDS FIXED ANY TYPE?
	[Static]
	function Connect(eventListener:Josh, eventName:String, functionDelegate:delegate(e:UpdateEvent))
	{
		EventSystem.Connect(eventName, functionDelegate);
	}

	sends UpdateEvent:UpdateEvent;
}
